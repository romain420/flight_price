<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Home page</title>
    <link rel="stylesheet" href="../static/css/home.css">
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
  </head>
  <body>
    {% extends 'base.html' %}

    {% block content %}

    <script src="../static/js/map.js"></script>
      <section id = "index_corp">
        <div id = "left_side_hp">
          <div id = "home_map"></div>
          <div class="dropdown show">
            <a class="btn btn-secondary dropdown-toggle" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Dropdown link
            </a>
          
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
              <a class="dropdown-item">Action</a>
              <a class="dropdown-item">Another action</a>
              <a class="dropdown-item">Something else here</a>
            </div>
          </div>
        </div>
        <div id = "right_side_hp">
          <div id = "explication_text">{{text_content}}</div>
        </div>

        <!-- rajouter le nombre de vol sur le quelle on a les info, le temps passer a recolter les données, les site scrapper pour les récuperer-->


        <script>
          mapboxgl.accessToken = '{{token}}';
          var home_map = new mapboxgl.Map({
            container: 'home_map',
            // style: 'mapbox://styles/mapbox/streets-v10',
            style: 'mapbox://styles/mapbox/streets-v10',
            center: [-41.56619803636973, 41.550849005590486],
            zoom: 1.5
          });
          // Create a default Marker and add it to the map.
          const marker1 = new mapboxgl.Marker()
            .setLngLat([2.5479, 49.0097])
            .addTo(home_map);
          const marker2 = new mapboxgl.Marker()
            .setLngLat([-73.78073040841659, 40.642078673144646])
            .addTo(home_map);
          </script>
      </section>
      <section id = 'app_stat'>
        <div id = 'nb_vol_info'>
          <div id = 'nb_vol_phrase'>Nombre de vol recupéré :</div>
          <div id = 'nb_vol_int'>{{nb_flight}}</div>
        </div>
        <div id = 'data_mining_time' style="text-align: center">
          <div id = 'heur_minage'>Temps de minage de données :</div>
          <div id = 'heur_int' >{{mining}}</div>
        </div>
        <div id = 'scrap_source'>
          <!-- <div id = 'site_phrase'>Site sur lequels on était scrap les données :</div> -->
          <div id = 'compagnie_scrap' style = "margin-top: 40px">
            <img src='https://s2.qwant.com/thumbr/700x0/e/a/592c55a8dfad6e1824666ff838557c15ea10713ed9d8fd8accd30ec8a6ebf2/kayak_logo.png?u=https%3A%2F%2Fwww.underconsideration.com%2Fbrandnew%2Farchives%2Fkayak_logo.png&q=0&b=1&p=0&a=0'>
          </div>
        </div>
      </section>
    {% endblock %}
  </body>
</html>